(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{42:function(e,t,a){e.exports=a(75)},47:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),l=a(3),s=a(24);a(47);function i(e){var t=e.children,a=e.title,n=e.subtitle;return r.a.createElement("div",{className:"banner"},r.a.createElement("h1",null,a),r.a.createElement("div",null),r.a.createElement("p",null,n),t)}var u=a(2);function m(e){var t=e.title;return r.a.createElement("div",{className:"section-title"},r.a.createElement("h4",null,t),r.a.createElement("div",null))}var p=a(20);function d(){var e=Object(n.useState)([{icon:r.a.createElement(p.b,null),title:"Information about",content:"You can pass some informations in this componenet"},{icon:r.a.createElement(p.b,null),title:"Information about",content:"You can pass some informations in this componenet"},{icon:r.a.createElement(p.b,null),title:"Information about",content:"You can pass some informations in this componenet"}]),t=Object(u.a)(e,2),a=t[0];t[1];return r.a.createElement("section",{className:"services"},r.a.createElement(m,{title:"Information"}),r.a.createElement("div",{className:"services-center"},a.map((function(e,t){return r.a.createElement("article",{key:t,className:"service"},r.a.createElement("span",null,e.icon),r.a.createElement("h6",null,e.title),r.a.createElement("p",null,e.content))}))))}function f(e){var t=e.children;return r.a.createElement("header",{className:"img-back"},t)}var h=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null,r.a.createElement("div",{className:"contentWrapper"},r.a.createElement(i,{title:"Welcome to BerryShop",subtitle:"check the available product offer"},r.a.createElement(l.b,{to:"/products",className:"btn-primary"},"Products")))),r.a.createElement(d,null))},b=a(1),g=a.n(b),E=a(6);function v(e){var t=e.product,a=t.product_id,n=(t.category,t.name),c=t.price,o=t.image;return r.a.createElement("article",{className:"product"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:o,alt:"Product"}),r.a.createElement("div",{className:"price-top"},r.a.createElement("h6",null,c," z\u0142")),r.a.createElement(l.b,{to:"/products/".concat(a),className:"btn-primary product-link"},n)),r.a.createElement("p",{className:"product-info"},n))}var y=a(4),j=a.n(y),O=a(38),N=a.n(O);function x(e){var t=e.activePage,a=e.count,n=e.handlePageChange;return r.a.createElement("div",null,r.a.createElement(N.a,{activeClass:"pagination-li",innerClass:"pagination-ul",linkClass:"pagination-a",activeLinkClass:"active-page",activePage:t,itemsCountPerPage:15,totalItemsCount:a,pageRangeDisplayed:5,onChange:n}))}function k(e){var t=e.categoryName,a=e.priceRange,c=Object(n.useState)([]),o=Object(u.a)(c,2),l=o[0],s=o[1],i=Object(n.useState)(1),m=Object(u.a)(i,2),p=m[0],d=m[1],f=Object(n.useState)(0),h=Object(u.a)(f,2),b=h[0],y=h[1],O=function(){var e=Object(E.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/api/products/?category=".concat(t,"&max_price=").concat(a.maxPrice,"&min_price=").concat(a.minPrice,"&page=").concat(p));case 3:n=e.sent,s(n.data.results),y(n.data.count),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){O()}),[t,a,p]);if(0===l.length)return r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"No matches to given parameters"));var N=l.map((function(e){return r.a.createElement(v,{key:e.product_id,product:e})}));return r.a.createElement("section",{className:"productgroup"},r.a.createElement("div",{className:"productgroup-center"},N),r.a.createElement(x,{activePage:p,count:b,handlePageChange:function(e){d(e)}}))}var w=a(39);function C(e){var t=e.name,a=e.children,c=Object(n.useState)(!1),o=Object(u.a)(c,2),l=o[0],s=o[1],i=function(){s(!l)};return C.handleClickOutside=function(){return s(!1)},r.a.createElement("div",{className:"dropdown-conteiner"},r.a.createElement("div",{role:"button",className:"dropdown-button",onKeyPress:function(){return i()},onClick:function(){return i()}}," ",t),l&&r.a.createElement("div",{className:"dropdown-content"},a))}var _={handleClickOutside:function(){return C.handleClickOutside}},S=Object(w.a)(C,_);function I(e){var t=e.getCategoryName,a=(e.isOpen,Object(n.useState)([])),c=Object(u.a)(a,2),o=c[0],l=c[1],s=function(){var e=Object(E.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/api/categories/");case 3:t=e.sent,l(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),0===o.length?r.a.createElement("div",{className:"category"},r.a.createElement("h3",null,"There is no Categoryies"),r.a.createElement("p",null)):r.a.createElement("div",{className:"category"},r.a.createElement(S,{name:"Category"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("button",{onClick:t,value:""},"All")),o.map((function(e){return r.a.createElement("li",{key:e.category_id},r.a.createElement("button",{type:"button",onClick:t,value:e.name},e.name))})))))}var P=a(40),T=a.n(P);a(74);function F(e){var t=e.getPriceRange,a=Object(n.useState)({minPrice:0,maxPrice:200}),c=Object(u.a)(a,2),o=c[0],l=c[1];return r.a.createElement(S,{name:"price"},r.a.createElement("div",{className:"slider"},r.a.createElement(T.a,{id:"slider-custom",range:{min:0,max:200},start:[o.minPrice,o.maxPrice],connect:!0,step:5,margin:5,onSlide:function(e){l({minPrice:parseInt(e[0]),maxPrice:parseInt(e[1])})}}),r.a.createElement("div",{className:"slider-bottom"},r.a.createElement("h4",null,o.minPrice,"-",o.maxPrice," z\u0142"),r.a.createElement("button",{value:[o.minPrice,o.maxPrice],onClick:t,className:"btn-primary"},"Filter"))))}var A=function(){var e=Object(n.useState)({maxPrice:"",minPrice:""}),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),l=Object(u.a)(o,2),s=l[0],i=l[1],p=Object(n.useState)(!1),d=Object(u.a)(p,2),f=(d[0],d[1]),h="All products";return""!==s&&(h=s),r.a.createElement("div",{className:"products-wraper"},r.a.createElement("h3",null,"Filters"),r.a.createElement("div",{className:"products-filters"},r.a.createElement(I,{getCategoryName:function(e){i(e.target.value),f(!1)}}),r.a.createElement(F,{getPriceRange:function(e){var t=e.target.value.split(",");c({minPrice:t[0],maxPrice:t[1]}),f(!1)}})),r.a.createElement(m,{title:h}),r.a.createElement(k,{categoryName:s,priceRange:a}))},D=a(7),J=a(5),z=a(11),q=Object(n.createContext)({user:{},fetchCurrentUser:function(){}}),W=function(e){var t=e.children,a=Object(n.useState)({id:"",email:"",user_name:"",first_name:"",last_name:"",phone:"",date_joined:"",is_staff:!1,logged_in:!!localStorage.getItem("access_token"),date_of_birth:""}),c=Object(u.a)(a,2),o=c[0],l=c[1],s=function(e){l({id:e.id,email:e.email,user_name:e.user_name,first_name:e.first_name,last_name:e.last_name,phone:e.phone,date_joined:e.date_joined,is_staff:e.is_staff,loggedIn:!!localStorage.getItem("access_token"),date_of_birth:e.date_of_birth})},i=function(){var e=Object(E.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/auth/current_user",{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 3:t=e.sent,s(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){localStorage.getItem("access_token")?h("logged_in",!0):v(!1),i()}),[]);var m=Object(n.useState)(null),p=Object(u.a)(m,2),d=p[0],f=p[1],h=function(e,t){l((function(a){return Object(J.a)(Object(J.a)({},a),{},Object(D.a)({},e,t))}))},b=Object(z.d)(),v=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];localStorage.removeItem("access_token"),l({id:"",email:"",userName:"",firstName:"",lastName:"",phone:"",dateJoined:"",isStaff:!1,loggedIn:!1,dateOfBirth:""}),e&&b.show("successfully logout",{timeout:0,type:"success"})},y={user:o,setUser:s,setUserProperty:h,fetchCurrentUser:i,logout:v,addressId:d,setAddressId:f};return r.a.createElement(q.Provider,{value:y},t)},V=a(9);function B(e){var t=e.quantityValue,a=(e.handleChange,Object(n.useState)(1)),c=Object(u.a)(a,2),o=c[0],l=c[1];return console.log(o),r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"quantity"},"Quantity:"),r.a.createElement("div",{className:"quantity"},r.a.createElement("button",{className:"btn-minus1",onClick:function(e){e.preventDefault(),o>1&&(l(o-1),t(o-1))}},"-"),r.a.createElement("input",{className:"quantity",id:"id_form-quantity",min:"1",name:"quantity",value:o,type:"number",readonly:!0}),r.a.createElement("button",{classNmae:"btn-add1",onClick:function(e){e.preventDefault(),l(o+1),t(o+1)}},"+")))}function R(e){var t=Object(n.useContext)(q).user,a=Object(n.useState)({product:[],isFetching:!0}),c=Object(u.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)(1),m=Object(u.a)(i,2),p=m[0],d=m[1],f=Object(n.useState)({}),h=Object(u.a)(f,2),b=(h[0],h[1],Object(V.g)()),v=function(){var t=Object(E.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s({product:o.product,isFetching:!0}),t.next=4,j.a.get("/api/products/".concat(e.match.params.id));case 4:a=t.sent,s({product:a.data,isFetching:!1}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),s({product:o.product,isFetching:!1});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){v()}),[]);var y=Object(z.d)(),O=function(){var a=Object(E.a)(g.a.mark((function a(){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,j.a.post("/api/cart-items/",JSON.stringify({product:parseInt(e.match.params.id),users:[parseInt(t.id)],quantity:p}),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 3:b.push("/products"),a.next=31;break;case 6:if(a.prev=6,a.t0=a.catch(0),console.log(a.t0.response),401!==a.t0.response.status){a.next=13;break}y.show("you must login to add item to cart",{timeout:0,type:"info"}),a.next=31;break;case 13:if("product is in cart"!==a.t0.response.data.message){a.next=31;break}return a.prev=14,a.next=17,j.a.patch("/api/cart-items/".concat(a.t0.response.data.cart_item_id,"/"),JSON.stringify({quantity:a.t0.response.data.quantity}),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 17:b.push("/products"),a.next=23;break;case 20:a.prev=20,a.t1=a.catch(14),console.log(a.t1);case 23:return a.prev=23,a.next=26,j.a.patch("/api/products/".concat(e.match.params.id,"/"),{quantity:-a.t0.response.data.quantity},{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 26:a.next=31;break;case 28:a.prev=28,a.t2=a.catch(23),console.log(a.t2);case 31:return a.prev=31,a.next=34,j.a.patch("/api/products/".concat(e.match.params.id,"/"),{quantity:-p},{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 34:a.next=39;break;case 36:a.prev=36,a.t3=a.catch(31),console.log(a.t3);case 39:case"end":return a.stop()}}),a,null,[[0,6],[14,20],[23,28],[31,36]])})));return function(){return a.apply(this,arguments)}}();if(0===o.product.length)return r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"Product not exist"),r.a.createElement(l.b,{to:"/products",className:"btn-primary"},"Go Back"));var N=o.product,x=(N.product_id,N.category),k=N.name,w=N.price,C=N.image,_=N.quantity,S=N.description;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"single-product"},r.a.createElement("div",{className:"single-product-info"},r.a.createElement("article",{className:"image"},r.a.createElement("img",{src:C,alt:k})),r.a.createElement("article",{className:"info"},r.a.createElement("h1",null,k),r.a.createElement("p",null),r.a.createElement("h3",null,"category: ",x),r.a.createElement("h3",null,"price: ",w," z\u0142"),r.a.createElement("h3",null,"availability: ",_),r.a.createElement(B,{quantityValue:function(e){return d(e)}}),r.a.createElement("div",{className:"buttons"},_>=1?r.a.createElement("button",{onClick:O,className:"btn-primary footer"},"Add to cart"):r.a.createElement("h3",null,"product is unapproachable"),r.a.createElement(l.b,{to:"/products",className:"btn-primary footer"},"Go back shopping"))),r.a.createElement("article",{className:"description"},r.a.createElement("h3",null,"Description"),S))))}function U(){var e=Object(n.useState)({email:"",password:""}),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useContext)(q).setUser,l=Object(V.g)(),s=function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;c((function(e){return Object(J.a)(Object(J.a)({},e),{},Object(D.a)({},a,n))}))},i=Object(z.d)();function m(){return(m=Object(E.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,j.a.post("/token-auth/",JSON.stringify(a),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 4:n=e.sent,j.a.defaults.headers.Authorization="JWT "+n.data.token,localStorage.setItem("access_token",n.data.token),o(n.data.user),l.push("/profil"),i.show("successfully Log in",{timeout:0,type:"success"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.response),400===e.t0.response.status&&i.show("Invalid Emai or Password",{timeout:0,type:"error"});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}return r.a.createElement("form",{className:"auth-form",onSubmit:function(e){return m.apply(this,arguments)}},r.a.createElement("h4",null,"Log In"),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{className:"start-input",type:"text",name:"email",value:a.email,onChange:s}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{className:"start-input",type:"password",name:"password",value:a.password,onChange:s}),r.a.createElement("button",{type:"submit",className:"btn-primary"}," ","Log in"," "))}var G=a(17),L=a.n(G),M=a(21),Y=a.n(M);function Q(){var e=Y.a.get("csrftoken");return r.a.createElement("input",{type:"hidden",name:"csrfmiddlewaretoken",value:e})}var Z=a(19),$=a.n(Z);a(23);function H(){var e=Object(z.d)(),t=Object(n.useState)({phone:"",password:"",email:"",user_name:""}),a=Object(u.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)({passwordErr:"",secondPasswordErr:"",userEmailErr:"",userNameErr:""}),s=Object(u.a)(l,2),i=s[0],m=s[1],p=Object(n.useState)(""),d=Object(u.a)(p,2),f=d[0],h=d[1],b=RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),v=RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/),y=function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;switch(a){case"user_name":o((function(e){return Object(J.a)(Object(J.a)({},e),{},Object(D.a)({},a,n))})),m((function(e){return Object(J.a)(Object(J.a)({},e),{},Object(D.a)({},"userNameErr",n.length<3?"at least 3 character":""))}));break;case"password":o((function(e){return Object(J.a)(Object(J.a)({},e),{},Object(D.a)({},a,n))})),m((function(e){return Object(J.a)(Object(J.a)({},e),{},Object(D.a)({},"passwordErr",v.test(n)?"":"password is not valid"))}));break;case"secondPassword":h(n),m((function(e){return Object(J.a)(Object(J.a)({},e),{},Object(D.a)({},"secondPasswordErr",n!==c.password?"Password do not mach":""))}));break;case"email":o((function(e){return Object(J.a)(Object(J.a)({},e),{},Object(D.a)({},a,n))})),m((function(e){return Object(J.a)(Object(J.a)({},e),{},Object(D.a)({},"userEmailErr",b.test(n)?"":" Invalid Email"))}))}},O=function(e){return""!==e},N=function(e){return""===e},x=Y.a.get("csrftoken");function k(){return(k=Object(E.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),Object.values(i).some(O)||Object.values(c).some(N)){t.next=16;break}return t.prev=2,t.next=5,j.a.post("auth/users/",JSON.stringify(c),{headers:{"Content-Type":"application/json",accept:"application/json","X-CSRFToken":x}});case 5:o({phone:"",password:"",email:"",user_name:""}),h(""),e.show("user created successfully",{timeout:0,type:"success"}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0.response),500===t.t0.response.status&&e.show("user with this email exist",{timeout:0,type:"error"});case 14:t.next=17;break;case 16:e.show("Invalid Register Form",{timeout:0,type:"error"});case 17:case"end":return t.stop()}}),t,null,[[2,10]])})))).apply(this,arguments)}return r.a.createElement("form",{className:"auth-form",onSubmit:function(e){return k.apply(this,arguments)}},r.a.createElement(Q,null),r.a.createElement("h4",null,"Register"),r.a.createElement("label",{htmlFor:"user_name"},"Username"),r.a.createElement("input",{className:L()("start-input",{"is-invalid":i.userNameErr,"is-valid":!i.userNameErr&&c.user_name.length}),type:"text",name:"user_name",value:c.user_name,onChange:y}),r.a.createElement("small",{className:"invalid"},i.userNameErr),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{className:L()("start-input",{"is-invalid":i.passwordErr,"is-valid":!i.passwordErr&&c.password.length}),type:"password",name:"password",value:c.password,onChange:y}),r.a.createElement("small",{className:"invalid"},i.passwordErr),r.a.createElement("label",{htmlFor:"secondPassword"},"Repeat Password"),r.a.createElement("input",{className:L()("start-input",{"is-invalid":i.secondPasswordErr,"is-valid":!i.secondPasswordErr&&f.length}),type:"password",name:"secondPassword",value:f,onChange:y}),r.a.createElement("small",{className:"invalid"},i.secondPasswordErr),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{className:L()("start-input",{"is-invalid":i.userNameErr,"is-valid":!i.userEmailErr&&c.email.length}),type:"email",name:"email",value:c.email,onChange:y}),r.a.createElement("small",{className:"invalid"},i.userEmailErr),r.a.createElement("label",{htmlFor:"phone"},"Phone"),r.a.createElement($.a,{containerClass:"phone-conteiner",inputClass:"phone-input",buttonClass:"phone-button",name:"phone",value:c.phone,onChange:function(e){o((function(t){return Object(J.a)(Object(J.a)({},t),{},Object(D.a)({},"phone",e))}))},placeholder:" "}),r.a.createElement("button",{type:"submit",className:"btn-primary"}," ","Register"," "),r.a.createElement("small",null,r.a.createElement("h3",null,"Password must contein:"),r.a.createElement("p",null,"at least 8 character"),r.a.createElement("p",null,"one uppercase character"),r.a.createElement("p",null,"one lowercase character")))}function K(){return r.a.createElement(f,null,r.a.createElement("div",{className:"auth-conteiner"},r.a.createElement(U,null),r.a.createElement("div",{className:"auth-seperator"}),r.a.createElement(H,null)))}var X=function(){return r.a.createElement(f,null,r.a.createElement("div",{className:"contentWrapper"},r.a.createElement(i,{title:"404",subtitle:"page not found"},r.a.createElement(l.b,{to:"/",className:"btn-primary"},"return"))))};function ee(e){var t=e.title,a=e.content,n=e.isInline,c=void 0!==n&&n;return r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:L()("row",{"row-inline":c}),htmlFor:"row"},t),r.a.createElement("p",{className:L()("row",{"row-inline":c}),name:"row"},a))}function te(e){var t=e.title,a=Object(n.useContext)(q),c=a.addressId,o=a.setAddressId,s=Object(n.useState)({addresses:[],isFetching:!0}),i=Object(u.a)(s,2),p=i[0],d=i[1],f=function(e){e.preventDefault(),o(parseInt(e.target.value))},h=function(){var e=Object(E.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/api/address",{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 3:t=e.sent,d({addresses:t.data,isFetching:!1}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();function b(e){return v.apply(this,arguments)}function v(){return(v=Object(E.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.value,e.prev=2,e.next=5,j.a.delete("api/address/".concat(a,"/"),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 5:return n=e.sent,h(),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}Object(n.useEffect)((function(){h()}),[]);return r.a.createElement("div",{className:"conteiner"},r.a.createElement(m,{title:t}),r.a.createElement("section",null,!0===p.isFetching||0===p.addresses.length?r.a.createElement("h3",null,"You do not have any address, add address to make a purchase "):r.a.createElement("div",{className:"address-center"},p.addresses.map((function(e){return r.a.createElement("article",{key:e.address_id},r.a.createElement("h3",{className:c===e.address_id?"active-shipping":"diaactive-shipping"},"Shipping Address ",r.a.createElement("div",null)),r.a.createElement("h6",null,r.a.createElement(ee,{isInline:!0,title:"Name:",content:e.name})),r.a.createElement(ee,{isInline:!0,title:"Country:",content:e.country}),r.a.createElement(ee,{isInline:!0,title:"Street:",content:e.street}),r.a.createElement(ee,{isInline:!0,title:"City:",content:e.city}),r.a.createElement(ee,{isInline:!0,title:"Post Code:",content:e.post_code}),r.a.createElement(ee,{isInline:!0,title:"Phone:",content:e.phone}),c===e.address_id?null:r.a.createElement("button",{className:"btn-primary",value:e.address_id,onClick:f},"Order address"),r.a.createElement("button",{className:"btn-primary",value:e.address_id,onClick:b},"Delete"))})))),r.a.createElement("div",{className:"seperator"}),r.a.createElement(l.b,{className:"btn-primary btn-margin",to:"/adresses-form"},"Add new address"))}function ae(){var e=Object(n.useContext)(q).user,t=e.email,a=e.user_name,c=(e.first_name,e.last_name),o=e.phone,s=e.date_of_birth;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"center-conteiner"},r.a.createElement(m,{title:"My profile"}),r.a.createElement("h6",null,r.a.createElement(ee,{isInline:!0,title:"User:",content:a})),r.a.createElement(ee,{isInline:!0,title:"email:",content:t}),r.a.createElement(ee,{isInline:!0,title:"First name:",content:c}),r.a.createElement(ee,{isInline:!0,title:"Last name:",content:s}),r.a.createElement(ee,{isInline:!0,title:"Phone:",content:o})),r.a.createElement("div",{className:"seperator"}),r.a.createElement(l.b,{className:"btn-primary btn-margin",to:"/profile-form"},"Upadate profile"))}function ne(){var e=Object(n.useState)({orders:[],isFetching:!0}),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(1),s=Object(u.a)(o,2),i=s[0],p=s[1],d=Object(n.useState)(0),f=Object(u.a)(d,2),h=f[0],b=f[1],v=function(){var e=Object(E.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/api/orders?page=".concat(i),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 3:t=e.sent,c({orders:t.data,isFetching:!1}),b(t.data.length),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),c({orders:a.orders,isFetching:!0});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){v()}),[i]);var y=function(e){return new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"numeric"}).format(new Date(e))};return 0===a.orders.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{title:"My orders"}),r.a.createElement("h3",null," You do not had any orders")):r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{title:"My orders"}),r.a.createElement("div",{className:"list-conteiner"},r.a.createElement("ul",null,a.orders.map((function(e,t){return r.a.createElement("li",{key:e.order_id,className:"list-view"},r.a.createElement(ee,{title:"Ordered:",content:y(e.crate_date)}),r.a.createElement(ee,{title:"Modified:",content:y(e.modified_date)}),r.a.createElement(ee,{title:"Status:",content:e.status}),r.a.createElement(l.b,{to:"/order-detail/".concat(e.order_id),className:"btn-primary"},"Ditails"))})))),r.a.createElement("div",{className:"seperator"}),r.a.createElement(x,{activePage:i,count:h,handlePageChange:function(e){p(e)}}))}function re(){return r.a.createElement("div",{className:""},r.a.createElement(ae,null),r.a.createElement(te,{title:"Addresses"}),r.a.createElement(ne,null))}function ce(e){var t=e.children,a=e.submitButton,n=e.handleSubmit;return r.a.createElement(f,null,r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"form-container",onSubmit:n},t,r.a.createElement("button",{type:"submit",className:"btn-primary"},a))))}function oe(e){var t=e.pattern,a=e.name,n=e.labelName,c=e.inputValue,o=e.type,l=e.handleChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:a},n),r.a.createElement("input",{className:"start-input",pattern:t,type:o,name:a,value:c,onChange:l}))}function le(){var e=Object(n.useState)({name:"",country:"",street:"",post_code:"",city:"",phone:""}),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useContext)(q).user,s=Object(V.g)(),i=Object(z.d)(),m=function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;c((function(e){return Object(J.a)(Object(J.a)({},e),{},Object(D.a)({},a,n))}))};function p(){return(p=Object(E.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,j.a.post("/api/address/",JSON.stringify(Object(J.a)(Object(J.a)({},a),{},{users:[parseInt(o.id)]})),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 4:s.push("/profil"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.response),400===e.t0.response.status?i.show("Invalid information",{timeout:0,type:"error"}):401===e.t0.response.status&&i.show("you must be login",{timeout:0,type:"error"});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return console.log(a),r.a.createElement(ce,{submitButton:"Add new",name:"Category",handleSubmit:function(e){return p.apply(this,arguments)}},r.a.createElement("h4",null," Addresses"),r.a.createElement(oe,{name:"name",type:"text",labelName:"Name",handleChange:m,value:a.name}),r.a.createElement(oe,{name:"country",type:"text",labelName:"Country",handleChange:m,value:a.country}),r.a.createElement(oe,{name:"street",type:"text",labelName:"Street",handleChange:m,value:a.street}),r.a.createElement(oe,{name:"post_code",type:"text",labelName:"Post code",handleChange:m,value:a.post_code}),r.a.createElement(oe,{name:"city",type:"text",labelName:"City",handleChange:m,value:a.city}),r.a.createElement("label",{htmlFor:"phone"},"Phone"),r.a.createElement($.a,{containerClass:"phone-conteiner",inputClass:"phone-input",buttonClass:"phone-button",name:"phone",value:a.phone,onChange:function(e){c((function(t){return Object(J.a)(Object(J.a)({},t),{},Object(D.a)({},"phone",e))}))},placeholder:" "}),r.a.createElement(l.b,{className:"btn-primary",to:"/profil"},"Go back"))}function se(){var e=Object(n.useContext)(q),t=e.user,a=e.fetchCurrentUser,c=Object(n.useState)(t),o=Object(u.a)(c,2),s=o[0],i=o[1],m=Object(V.g)(),p=function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;i((function(e){return Object(J.a)(Object(J.a)({},e),{},Object(D.a)({},a,n))}))};function d(){return(d=Object(E.a)(g.a.mark((function e(n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,j.a.put("auth/update/".concat(t.id,"/"),JSON.stringify(s),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 4:return r=e.sent,a(),m.push("/profil"),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return r.a.createElement(ce,{submitButton:"Update Profile",handleSubmit:function(e){return d.apply(this,arguments)}},r.a.createElement("h4",null," User Profile"),r.a.createElement(oe,{name:"user_name",type:"text",labelName:"User Name",handleChange:p,inputValue:s.user_name}),r.a.createElement(oe,{name:"first_name",type:"text",labelName:"First Name",handleChange:p,inputValue:s.first_name}),r.a.createElement(oe,{name:"last_name",type:"text",labelName:"Last Name",handleChange:p,inputValue:s.last_name}),r.a.createElement(oe,{name:"date_of_birth",type:"date",labelName:"Date of birth",handleChange:p,inputValue:s.date_of_birth}),r.a.createElement("label",{htmlFor:"phone"},"Phone"),r.a.createElement($.a,{containerClass:"phone-conteiner",inputClass:"phone-input",buttonClass:"phone-button",name:"phone",value:s.phone,onChange:function(e){i((function(t){return Object(J.a)(Object(J.a)({},t),{},Object(D.a)({},"phone",e))}))}}),r.a.createElement(l.b,{to:"/profil",className:"btn-primary"},"Go back"))}function ie(){var e=Object(V.g)(),t=Object(n.useState)({name:""}),a=Object(u.a)(t,2),c=a[0],o=a[1];function s(){return(s=Object(E.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,j.a.post("api/staff/categories/",JSON.stringify(c),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 4:e.push("/staff"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))).apply(this,arguments)}return r.a.createElement(ce,{submitButton:"Add",handleSubmit:function(e){return s.apply(this,arguments)}},r.a.createElement("h4",null,"Category"),r.a.createElement(oe,{name:"category",type:"text",labelName:"Category",handleChange:function(e){e.preventDefault(),o({name:e.target.value})},inputValue:c.name}),r.a.createElement(l.b,{className:"btn-primary",to:"/staff"},"Go back"))}function ue(e){var t=e.onChange,a=Object(n.useState)([]),c=Object(u.a)(a,2),o=c[0],l=c[1],s=function(){var e=Object(E.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/api/categories/");case 3:t=e.sent,l(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),0===o.length?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"category"},"Category"),r.a.createElement("select",{className:"select-category",name:"category",onChange:t},o.map((function(e){return r.a.createElement("option",{value:e.name,key:e.category_id},e.name)}))))}function me(){var e=Object(V.g)(),t=Object(n.useState)({name:"",price:"",category:"",images:null}),a=Object(u.a)(t,2),c=a[0],o=a[1],s=function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;o((function(e){return Object(J.a)(Object(J.a)({},e),{},Object(D.a)({},a,n))}))};function i(){return(i=Object(E.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=new FormData,c.images&&n.append("image",c.images,c.images.name),n.append("name",c.name),n.append("price",c.price),n.append("quantity",c.quantity),n.append("description",c.description),n.append("category",c.category),console.log(n),t.prev=9,t.next=12,j.a.post("/api/staff/products/",n,{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"multipart/form-data",accept:"application/json"}});case 12:return r=t.sent,e.push("/staff"),t.abrupt("return",r);case 17:t.prev=17,t.t0=t.catch(9),console.log(t.t0.response);case 20:case"end":return t.stop()}}),t,null,[[9,17]])})))).apply(this,arguments)}return console.log(c),r.a.createElement(ce,{submitButton:"Add",handleSubmit:function(e){return i.apply(this,arguments)}},r.a.createElement("h4",null,"Product"),r.a.createElement(oe,{name:"name",type:"text",labelName:"Name",handleChange:s,inputValue:c.name}),r.a.createElement(oe,{name:"price",type:"text",labelName:"Price",handleChange:s,inputValue:c.prce}),r.a.createElement(oe,{name:"quantity",type:"number",labelName:"Quantity",handleChange:s,inputValue:c.quantity}),r.a.createElement(oe,{accept:"image/png, image/jpeg",name:"image",type:"file",labelName:"Image",handleChange:function(e){console.log(e.target.files),o(Object(J.a)(Object(J.a)({},c),{},{images:e.target.files[0]}))},inputValue:c.image}),r.a.createElement(oe,{name:"description",type:"text",labelName:"Description",handleChange:s,inputValue:c.description}),r.a.createElement(ue,{onChange:function(e){e.preventDefault();var t=e.target.value;console.log(t),o((function(e){return Object(J.a)(Object(J.a)({},e),{},Object(D.a)({},"category",[t]))})),console.log(c)}}),r.a.createElement(l.b,{className:"btn-primary",to:"/staff"},"Go back"))}function pe(){var e=Object(n.useState)({cart:[0],isFetching:!0}),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useContext)(q),s=o.user,i=o.addressId,p=Object(V.g)(),d=Object(z.d)(),f=function(){var e=Object(E.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("api/orders/",JSON.stringify({users:parseInt(s.id),addresses:i}),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 3:return t=e.sent,console.log(JSON.stringify(a.cart.map((function(e){return{order:t.data.order_id,product:parseInt(e.product.product_id)}})))),e.next=7,j.a.post("api/order-items/",JSON.stringify(a.cart.map((function(e){return{order:t.data.order_id,product:parseInt(e.product.product_id),quantity:parseInt(e.quantity)}}))),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 7:return e.next=9,j.a.delete("api/cart-items/",{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 9:p.push("/profil"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.response),400===e.t0.response.status&&d.show("choose adresses to make order on your profile site",{timeout:0,type:"info"});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(E.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/api/cart-items",{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 3:t=e.sent,c({cart:t.data,isFetching:!1}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),c({cart:a.cart,isFetching:!0});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();function b(e){return v.apply(this,arguments)}function v(){return(v=Object(E.a)(g.a.mark((function e(t){var a,n,r,c,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.value.split(","),n=Object(u.a)(a,3),r=n[0],c=n[1],o=n[2],e.prev=2,e.next=5,j.a.delete("api/cart-items/".concat(r,"/"),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 5:e.sent,h(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:return e.prev=12,e.next=15,j.a.patch("api/products/".concat(c,"/"),{quantity:parseInt(o)},{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(12),console.log(e.t1);case 20:case"end":return e.stop()}}),e,null,[[2,9],[12,17]])})))).apply(this,arguments)}Object(n.useEffect)((function(){h()}),[]);var y=0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{title:"Cart"}),r.a.createElement("div",{className:"list-conteiner"},a.isFetching?r.a.createElement("h3",null," Cart is feaching..."):0===a.cart.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null," Your cart is empty"),r.a.createElement(l.b,{to:"/products",className:"btn-primary"}," ","Back to shoping"," ")):r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,a.cart.map((function(e,t){return y+=e.quantity*e.product.price,r.a.createElement("li",{key:e.cart_item_id,className:"list-view"},r.a.createElement("img",{src:e.product.image,alt:e.product.name}),r.a.createElement(ee,{title:"Name:",content:e.product.name}),r.a.createElement(ee,{title:"Quantity:",content:e.quantity}),r.a.createElement(ee,{title:"Price:",content:"".concat(e.product.price,"z\u0142")}),r.a.createElement("button",{onClick:b,value:[e.cart_item_id,e.product.product_id,e.quantity],className:"btn-primary"},"remove"))}))),r.a.createElement("h3",null,"summary"),r.a.createElement(ee,{title:"Total price:",content:"".concat(y,"z\u0142")}),r.a.createElement("button",{onClick:f,className:"btn-primary"},"Buy"))),r.a.createElement(te,{title:"choose address to send"}))}function de(e){var t=Object(n.useState)({orderInfo:[],oderItems:[]}),a=Object(u.a)(t,2),c=a[0],o=a[1],s=function(){var t=Object(E.a)(g.a.mark((function t(){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.get("/api/orders/".concat(e.match.params.id));case 3:return a=t.sent,o((function(e){return Object(J.a)(Object(J.a)({},e),{},{orderInfo:a.data})})),t.next=7,j.a.get("/api/order-items/".concat(e.match.params.id));case 7:n=t.sent,o((function(e){return Object(J.a)(Object(J.a)({},e),{},{oderItems:n.data})})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();console.log(c),Object(n.useEffect)((function(){s()}),[]);var i=function(e){return new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"numeric"}).format(new Date(e))},p=0;return 0===c.oderItems.length?r.a.createElement("h3",null,"There is no Order."):r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{title:"Order"}),r.a.createElement("div",{className:"list-conteiner"},r.a.createElement(ee,{title:"Status:",content:c.orderInfo.status}),r.a.createElement(ee,{title:"Order date:",content:i(c.orderInfo.crate_date)}),r.a.createElement(ee,{title:"Modified date:",content:i(c.orderInfo.modified_date)}),r.a.createElement(m,{title:"Ordered products"}),r.a.createElement("ul",null,c.oderItems.map((function(e,t){return p=+e.quantity*e.product.price,r.a.createElement("li",{key:e.order_item_id,className:"list-view"},r.a.createElement("img",{src:e.product.image,alt:e.product.name}),r.a.createElement(ee,{title:"Name:",content:e.product.name}),r.a.createElement(ee,{title:"Quantity:",content:e.quantity}),r.a.createElement(ee,{title:"price:",content:"".concat(e.product.price," z\u0142")}),r.a.createElement(l.b,{to:"/products/".concat(e.product.product_id),className:"btn-primary"},"See product"))}))),r.a.createElement(ee,{title:"total price:",content:"".concat(p," z\u0142")}),r.a.createElement(m,{title:"Shipping address"}),r.a.createElement("div",{className:"list-view"},r.a.createElement(ee,{title:"Name:",content:c.orderInfo.addresses.name}),r.a.createElement(ee,{title:"Country:",content:c.orderInfo.addresses.country}),r.a.createElement(ee,{title:"City:",content:c.orderInfo.addresses.city}),r.a.createElement(ee,{title:"Post Code:",content:c.orderInfo.addresses.post_code}),r.a.createElement(ee,{title:"Street:",content:c.orderInfo.addresses.street}))))}function fe(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(1),s=Object(u.a)(o,2),i=s[0],m=s[1],p=Object(n.useState)(0),d=Object(u.a)(p,2),f=d[0],h=d[1],b=function(){var e=Object(E.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/api/products/?page=".concat(i));case 3:t=e.sent,c(t.data.results),h(t.data.count),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){b()}),[i]);function v(e){return y.apply(this,arguments)}function y(){return(y=Object(E.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.value,e.prev=2,e.next=5,j.a.delete("api/staff/products/".concat(a,"/"),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 5:return n=e.sent,b(),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return 0===a.length?r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"No matches to given parameters")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"list-conteiner"},r.a.createElement("ul",null,a.map((function(e,t){return r.a.createElement("li",{key:e.product_id,className:"list-view"},r.a.createElement("img",{src:e.image,alt:e.name}),r.a.createElement(ee,{title:"Name:",content:e.name}),r.a.createElement(ee,{title:"Price:",content:e.price}),r.a.createElement(ee,{title:"Category:",content:e.category}),r.a.createElement(l.b,{to:"/products/".concat(e.product_id),className:"btn-primary"},"Details"),r.a.createElement(l.b,{to:"/product-form-update/".concat(e.product_id),className:"btn-primary"},"Update"),r.a.createElement("button",{value:e.product_id,className:"btn-primary",onClick:v},"Delete"))})))),r.a.createElement("div",{className:"seperator"}),r.a.createElement(x,{activePage:i,count:f,handlePageChange:function(e){m(e)}}))}function he(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(1),l=Object(u.a)(o,2),s=l[0],i=l[1],m=Object(n.useState)(0),p=Object(u.a)(m,2),d=p[0],f=p[1],h=function(){var e=Object(E.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/api/categories?page=".concat(s));case 3:t=e.sent,c(t.data),f(t.data.length),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();function b(e){return v.apply(this,arguments)}function v(){return(v=Object(E.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.value,e.prev=2,e.next=5,j.a.delete("api/staff/categories/".concat(a,"/"),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 5:return n=e.sent,h(),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){h()}),[s]),0===a.length?r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"There is no Category added")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"list-conteiner"},r.a.createElement("ul",null,a.map((function(e,t){return r.a.createElement("li",{key:e.category_id,className:"list-view"},r.a.createElement(ee,{title:"Name",content:e.name}),r.a.createElement("button",{value:e.category_id,onClick:b,className:"btn-primary"},"Delete"))})))),r.a.createElement("div",{className:"seperator"}),r.a.createElement(x,{activePage:s,count:d,handlePageChange:function(e){i(e)}}))}function be(e){var t=e.orderId,a=e.currentValue,n=e.fetchOrders,c=Object(z.d)(),o=function(){var e=Object(E.a)(g.a.mark((function e(a){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r=a.target.value,e.prev=2,e.next=5,j.a.patch("/api/staff/orders/".concat(t,"/"),JSON.stringify({status:r}),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 5:n(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0.response),c.show("You did not chance statu",{timeout:0,type:"error"});case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"select-status"},r.a.createElement("label",{htmlFor:"status"},"Change Status"),r.a.createElement("select",{name:"status",onChange:o,value:a},["pending","sent","delivered"].map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)}))))}function ge(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(1),s=Object(u.a)(o,2),i=s[0],m=s[1],p=Object(n.useState)(0),d=Object(u.a)(p,2),f=d[0],h=d[1],b=function(){var e=Object(E.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/api/staff/orders?page=".concat(i));case 3:t=e.sent,c(t.data),h(t.data.length),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();if(Object(n.useEffect)((function(){b()}),[i]),0===a.length)return r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"No matches to given parameters"));var v=function(e){return new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"numeric"}).format(new Date(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"list-conteiner"},r.a.createElement("ul",null,a.map((function(e,t){return r.a.createElement("li",{key:e.order_id,className:"list-view"},r.a.createElement(ee,{title:"Ordered:",content:v(e.crate_date)}),r.a.createElement(ee,{title:"Modified:",content:v(e.modified_date)}),r.a.createElement(be,{orderId:e.order_id,fetchOrders:b,currentValue:e.status}),r.a.createElement(l.b,{to:"/order-detail/".concat(e.order_id),className:"btn-primary"},"Ditails"))})))),r.a.createElement("div",{className:"seperator"}),r.a.createElement(x,{activePage:i,count:f,handlePageChange:function(e){m(e)}}))}function Ee(){return r.a.createElement("div",{className:"list-wraper"},r.a.createElement(m,{title:"Category"}),r.a.createElement(he,null),r.a.createElement(l.b,{to:"/category-form",className:"btn-primary "},"Add"),r.a.createElement(m,{title:"product"}),r.a.createElement(fe,null),r.a.createElement(l.b,{to:"/product-form",className:"btn-primary "},"Add"),r.a.createElement(m,{title:"Orders"}),r.a.createElement(ge,null))}function ve(e){var t=Object(V.g)(),a=Object(n.useState)({name:"",price:"",category:"",quantity:"",images:"",description:""}),c=Object(u.a)(a,2),o=c[0],s=c[1],i=function(){var t=Object(E.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.get("/api/products/".concat(e.match.params.id,"/"));case 3:a=t.sent,s({name:a.data.name,price:a.data.price,category:a.data.category,quantity:a.data.quantity,description:a.data.description}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){i()}),[]);var m=function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;s((function(e){return Object(J.a)(Object(J.a)({},e),{},Object(D.a)({},a,n))}))};function p(){return(p=Object(E.a)(g.a.mark((function a(n){var r,c;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),r=new FormData,o.images&&r.append("image",o.images,o.images.name),r.append("name",o.name),r.append("price",o.price),r.append("quantity",o.quantity),r.append("description",o.description),r.append("category",o.category),console.log(r),a.prev=9,a.next=12,j.a.put("/api/staff/products/".concat(e.match.params.id,"/"),r,{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"multipart/form-data",accept:"application/json"}});case 12:return c=a.sent,t.push("/staff"),a.abrupt("return",c);case 17:a.prev=17,a.t0=a.catch(9),console.log(a.t0);case 20:case"end":return a.stop()}}),a,null,[[9,17]])})))).apply(this,arguments)}return r.a.createElement(ce,{submitButton:"Update",handleSubmit:function(e){return p.apply(this,arguments)}},r.a.createElement("h4",null,"Product"),r.a.createElement(oe,{name:"name",type:"text",labelName:"Name",handleChange:m,inputValue:o.name}),r.a.createElement(oe,{name:"price",type:"text",labelName:"Price",handleChange:m,inputValue:o.price}),r.a.createElement(oe,{name:"quantity",type:"text",labelName:"Quantity",handleChange:m,inputValue:o.quantity}),r.a.createElement(oe,{accept:"image/png, image/jpeg",name:"image",type:"file",labelName:"Image",handleChange:function(e){console.log(e.target.files),s(Object(J.a)(Object(J.a)({},o),{},{images:e.target.files[0]}))},inputValue:o.image}),r.a.createElement(oe,{name:"description",type:"text",labelName:"Description",handleChange:m,inputValue:o.description}),r.a.createElement(ue,{onChange:function(e){e.preventDefault();var t=e.target.value;console.log(t),s((function(e){return Object(J.a)(Object(J.a)({},e),{},Object(D.a)({},"category",[t]))}))}}),r.a.createElement(l.b,{className:"btn-primary",to:"/staff"},"Go back"))}function ye(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useContext)(q),s=o.user,i=o.logout;return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"nav-center"},r.a.createElement("div",{className:"nav-header "},r.a.createElement("button",{type:"button",className:"nav-btn",onClick:function(){c(!a)}},r.a.createElement(p.a,null)),r.a.createElement(l.b,{to:"/"},r.a.createElement("h3",null,"Berry Shop")),s.loggedIn?r.a.createElement("div",{className:"welcome-nav"},r.a.createElement("h6",null,"Welcome, "),r.a.createElement("p",null,s.user_name)):null),r.a.createElement("ul",{className:a?"nav-links show-nav":"nav-links"},r.a.createElement("li",null,r.a.createElement(l.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/products"},"Products")),s.loggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(l.b,{to:"/cart"},"Cart")),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/profil"},"Profile"))):null,s.is_staff?r.a.createElement("li",null,r.a.createElement(l.b,{to:"/staff"},"Staff panel")):null,r.a.createElement("li",null,s.loggedIn?r.a.createElement(l.b,{to:"/"},r.a.createElement("button",{className:"btn-primary",onClick:i},"Logout")):r.a.createElement(l.b,{to:"/auth"},r.a.createElement("button",{className:"btn-primary"},"Login/Register"))))))}var je=function(){var e=Object(n.useContext)(q).user;function t(t){var a=t.component,n=Object(s.a)(t,["component"]);return r.a.createElement(V.b,Object.assign({},n,{render:function(t){return e.loggedIn?r.a.createElement(a,t):r.a.createElement(V.a,{to:"/auth"})}}))}function a(t){var a=t.component,n=Object(s.a)(t,["component"]);return r.a.createElement(V.b,Object.assign({},n,{render:function(t){return e.loggedIn&&e.is_staff?r.a.createElement(a,t):r.a.createElement(V.a,{to:"/not-found"})}}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(ye,null),r.a.createElement(V.d,null,r.a.createElement(V.b,{exact:!0,path:"/",component:h}),r.a.createElement(V.b,{exact:!0,path:"/products",component:A}),r.a.createElement(V.b,{exact:!0,path:"/products/:id",component:R}),r.a.createElement(V.b,{exact:!0,path:"/auth",component:K}),r.a.createElement(t,{exact:!0,path:"/profil",component:re}),r.a.createElement(t,{exact:!0,path:"/order-detail/:id",component:de}),r.a.createElement(t,{exact:!0,path:"/cart",component:pe}),r.a.createElement(t,{exact:!0,path:"/adresses-form",component:le}),r.a.createElement(t,{exact:!0,path:"/profile-form",component:se}),r.a.createElement(a,{exact:!0,path:"/staff",component:Ee}),r.a.createElement(a,{exact:!0,path:"/category-form",component:ie}),r.a.createElement(a,{exact:!0,path:"/product-form",component:me}),r.a.createElement(a,{exact:!0,path:"/product-form-update/:id",component:ve}),r.a.createElement(V.b,{component:X})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Oe=a(41),Ne={position:z.b.BOTTOM_CENTER,timeout:5e3,offset:"30px",transition:z.c.SCALE};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z.a,Object.assign({template:Oe.a},Ne),r.a.createElement(W,null,r.a.createElement(l.a,null,r.a.createElement(je,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.de9574a8.chunk.js.map