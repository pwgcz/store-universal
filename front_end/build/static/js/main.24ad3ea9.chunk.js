(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{42:function(e,t,a){e.exports=a(75)},47:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),o=a(3),s=a(25);a(47);function i(e){var t=e.children,a=e.title,n=e.subtitle;return r.a.createElement("div",{className:"banner"},r.a.createElement("h1",null,a),r.a.createElement("div",null),r.a.createElement("p",null,n),t)}function u(e){var t=e.children;return r.a.createElement("header",{className:"img-back"},t)}var m=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null,r.a.createElement("div",{className:"contentWrapper"},r.a.createElement(i,{title:"Welcome to BerryShop",subtitle:"check the available product offer"},r.a.createElement(o.b,{to:"/products",className:"btn-primary"},"Products")))))},p=a(2),d=a(1),f=a.n(d),h=a(6);function b(e){var t=e.product,a=t.product_id,n=(t.category,t.name),c=t.price,l=t.image;return r.a.createElement("article",{className:"product"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:l,alt:"Product"}),r.a.createElement("div",{className:"price-top"},r.a.createElement("h6",null,c," z\u0142")),r.a.createElement(o.b,{to:"/products/".concat(a),className:"btn-primary product-link"},n)),r.a.createElement("p",{className:"product-info"},n))}var g=a(4),E=a.n(g),v=a(37),y=a.n(v);function j(e){var t=e.activePage,a=e.count,n=e.handlePageChange;return r.a.createElement("div",null,r.a.createElement(y.a,{activeClass:"pagination-li",innerClass:"pagination-ul",linkClass:"pagination-a",activeLinkClass:"active-page",activePage:t,itemsCountPerPage:15,totalItemsCount:a,pageRangeDisplayed:5,onChange:n}))}function O(e){var t=e.categoryName,a=e.priceRange,c=Object(n.useState)([]),l=Object(p.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)(1),u=Object(p.a)(i,2),m=u[0],d=u[1],g=Object(n.useState)(0),v=Object(p.a)(g,2),y=v[0],O=v[1],N=function(){var e=Object(h.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/products/?category=".concat(t,"&max_price=").concat(a.maxPrice,"&min_price=").concat(a.minPrice,"&page=").concat(m));case 3:n=e.sent,s(n.data.results),O(n.data.count),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){N()}),[t,a,m]);if(0===o.length)return r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"No matches to given parameters"));var x=o.map((function(e){return r.a.createElement(b,{key:e.product_id,product:e})}));return r.a.createElement("section",{className:"productgroup"},r.a.createElement("div",{className:"productgroup-center"},x),r.a.createElement(j,{activePage:m,count:y,handlePageChange:function(e){d(e)}}))}function N(e){var t=e.title;return r.a.createElement("div",{className:"section-title"},r.a.createElement("h4",null,t),r.a.createElement("div",null))}var x=a(38);function w(e){var t=e.name,a=e.children,c=Object(n.useState)(!1),l=Object(p.a)(c,2),o=l[0],s=l[1],i=function(){s(!o)};return w.handleClickOutside=function(){return s(!1)},r.a.createElement("div",{className:"dropdown-conteiner"},r.a.createElement("div",{role:"button",className:"dropdown-button",onKeyPress:function(){return i()},onClick:function(){return i()}}," ",t),o&&r.a.createElement("div",{className:"dropdown-content"},a))}var k={handleClickOutside:function(){return w.handleClickOutside}},C=Object(x.a)(w,k);function _(e){var t=e.getCategoryName,a=(e.isOpen,Object(n.useState)([])),c=Object(p.a)(a,2),l=c[0],o=c[1],s=function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/categories/");case 3:t=e.sent,o(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),0===l.length?r.a.createElement("div",{className:"category"},r.a.createElement("h3",null,"There is no Categoryies"),r.a.createElement("p",null)):r.a.createElement("div",{className:"category"},r.a.createElement(C,{name:"Category"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("button",{onClick:t,value:""},"All")),l.map((function(e){return r.a.createElement("li",{key:e.category_id},r.a.createElement("button",{type:"button",onClick:t,value:e.name},e.name))})))))}var S=a(39),I=a.n(S);a(74);function P(e){var t=e.getPriceRange,a=Object(n.useState)({minPrice:0,maxPrice:200}),c=Object(p.a)(a,2),l=c[0],o=c[1];return r.a.createElement(C,{name:"price"},r.a.createElement("div",{className:"slider"},r.a.createElement(I.a,{id:"slider-custom",range:{min:0,max:200},start:[l.minPrice,l.maxPrice],connect:!0,step:5,margin:5,onSlide:function(e){o({minPrice:parseInt(e[0]),maxPrice:parseInt(e[1])})}}),r.a.createElement("div",{className:"slider-bottom"},r.a.createElement("h4",null,l.minPrice,"-",l.maxPrice," z\u0142"),r.a.createElement("button",{value:[l.minPrice,l.maxPrice],onClick:t,className:"btn-primary"},"Filter"))))}var T=function(){var e=Object(n.useState)({maxPrice:"",minPrice:""}),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(p.a)(l,2),s=o[0],i=o[1],u=Object(n.useState)(!1),m=Object(p.a)(u,2),d=(m[0],m[1]),f="All products";return""!==s&&(f=s),r.a.createElement("div",{className:"products-wraper"},r.a.createElement("h3",null,"Filters"),r.a.createElement("div",{className:"products-filters"},r.a.createElement(_,{getCategoryName:function(e){i(e.target.value),d(!1)}}),r.a.createElement(P,{getPriceRange:function(e){var t=e.target.value.split(",");c({minPrice:t[0],maxPrice:t[1]}),d(!1)}})),r.a.createElement(N,{title:f}),r.a.createElement(O,{categoryName:s,priceRange:a}))},F=a(7),D=a(5),A=a(11),J=Object(n.createContext)({user:{},fetchCurrentUser:function(){}}),q=function(e){var t=e.children,a=Object(n.useState)({id:"",email:"",user_name:"",first_name:"",last_name:"",phone:"",date_joined:"",is_staff:!1,logged_in:!!localStorage.getItem("access_token"),date_of_birth:""}),c=Object(p.a)(a,2),l=c[0],o=c[1],s=function(e){o({id:e.id,email:e.email,user_name:e.user_name,first_name:e.first_name,last_name:e.last_name,phone:e.phone,date_joined:e.date_joined,is_staff:e.is_staff,loggedIn:!!localStorage.getItem("access_token"),date_of_birth:e.date_of_birth})},i=function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/auth/current_user",{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 3:t=e.sent,s(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){localStorage.getItem("access_token")?g("logged_in",!0):y(!1),i()}),[]);var u=Object(n.useState)(null),m=Object(p.a)(u,2),d=m[0],b=m[1],g=function(e,t){o((function(a){return Object(D.a)(Object(D.a)({},a),{},Object(F.a)({},e,t))}))},v=Object(A.d)(),y=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];localStorage.removeItem("access_token"),o({id:"",email:"",userName:"",firstName:"",lastName:"",phone:"",dateJoined:"",isStaff:!1,loggedIn:!1,dateOfBirth:""}),e&&v.show("successfully logout",{timeout:0,type:"success"})},j={user:l,setUser:s,setUserProperty:g,fetchCurrentUser:i,logout:y,addressId:d,setAddressId:b};return r.a.createElement(J.Provider,{value:j},t)},z=a(9);function W(e){var t=e.quantityValue,a=(e.handleChange,Object(n.useState)(1)),c=Object(p.a)(a,2),l=c[0],o=c[1];return console.log(l),r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"quantity"},"Quantity:"),r.a.createElement("div",{className:"quantity"},r.a.createElement("button",{className:"btn-minus1",onClick:function(e){e.preventDefault(),l>1&&(o(l-1),t(l-1))}},"-"),r.a.createElement("input",{className:"quantity",id:"id_form-quantity",min:"1",name:"quantity",value:l,type:"number",readonly:!0}),r.a.createElement("button",{classNmae:"btn-add1",onClick:function(e){e.preventDefault(),o(l+1),t(l+1)}},"+")))}function V(e){var t=Object(n.useContext)(J).user,a=Object(n.useState)({product:[],isFetching:!0}),c=Object(p.a)(a,2),l=c[0],s=c[1],i=Object(n.useState)(1),u=Object(p.a)(i,2),m=u[0],d=u[1],b=Object(z.g)(),g=function(){var t=Object(h.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s({product:l.product,isFetching:!0}),t.next=4,E.a.get("/api/products/".concat(e.match.params.id));case 4:a=t.sent,s({product:a.data,isFetching:!1}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),s({product:l.product,isFetching:!1});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){g()}),[]);var v=Object(A.d)(),y=function(){var a=Object(h.a)(f.a.mark((function a(){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E.a.post("/api/cart-items/",JSON.stringify({product:parseInt(e.match.params.id),users:[parseInt(t.id)],quantity:m}),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 3:b.push("/products"),a.next=31;break;case 6:if(a.prev=6,a.t0=a.catch(0),console.log(a.t0.response),401!==a.t0.response.status){a.next=13;break}v.show("you must login to add item to cart",{timeout:0,type:"info"}),a.next=31;break;case 13:if("product is in cart"!==a.t0.response.data.message){a.next=31;break}return a.prev=14,a.next=17,E.a.patch("/api/cart-items/".concat(a.t0.response.data.cart_item_id,"/"),JSON.stringify({quantity:a.t0.response.data.quantity}),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 17:b.push("/products"),a.next=23;break;case 20:a.prev=20,a.t1=a.catch(14),console.log(a.t1);case 23:return a.prev=23,a.next=26,E.a.patch("/api/products/".concat(e.match.params.id,"/"),{quantity:-a.t0.response.data.quantity},{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 26:a.next=31;break;case 28:a.prev=28,a.t2=a.catch(23),console.log(a.t2);case 31:return a.prev=31,a.next=34,E.a.patch("/api/products/".concat(e.match.params.id,"/"),{quantity:-m},{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 34:a.next=39;break;case 36:a.prev=36,a.t3=a.catch(31),console.log(a.t3);case 39:case"end":return a.stop()}}),a,null,[[0,6],[14,20],[23,28],[31,36]])})));return function(){return a.apply(this,arguments)}}();if(0===l.product.length)return r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"Product not exist"),r.a.createElement(o.b,{to:"/products",className:"btn-primary"},"Go Back"));var j,O=l.product,N=(O.product_id,O.category),x=O.name,w=O.price,k=O.image,C=O.quantity,_=O.description;return r.a.createElement("section",{className:"single-product"},r.a.createElement("div",{className:"single-product-info"},r.a.createElement("article",{className:"image"},r.a.createElement("img",{src:k,alt:x})),r.a.createElement("article",{className:"info"},r.a.createElement("h1",null,x),r.a.createElement("p",null),r.a.createElement("h3",null,"category: ",N),r.a.createElement("h3",null,"price: ",(j=w,new Intl.NumberFormat("pl",{style:"currency",minimumIntegerDigits:1,currency:"PLN",currencyDisplay:"symbol"}).format(j))),r.a.createElement("h3",null,"availability: ",C),r.a.createElement(W,{quantityValue:function(e){return d(e)}}),r.a.createElement("div",{className:"buttons"},C>=1?r.a.createElement("button",{onClick:y,className:"btn-primary footer"},"Add to cart"):r.a.createElement("h3",null,"product is unapproachable"),r.a.createElement(o.b,{to:"/products",className:"btn-primary footer"},"Go back shopping"))),r.a.createElement("article",{className:"description"},r.a.createElement("h3",null,"Description"),_)))}function B(){var e=Object(n.useState)({email:"",password:""}),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(J).setUser,o=Object(z.g)(),s=function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;c((function(e){return Object(D.a)(Object(D.a)({},e),{},Object(F.a)({},a,n))}))},i=Object(A.d)();function u(){return(u=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,E.a.post("/token-auth/",JSON.stringify(a),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 4:n=e.sent,E.a.defaults.headers.Authorization="JWT "+n.data.token,localStorage.setItem("access_token",n.data.token),l(n.data.user),o.push("/profil"),i.show("successfully Log in",{timeout:0,type:"success"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.response),400===e.t0.response.status&&i.show("Invalid Emai or Password",{timeout:0,type:"error"});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}return r.a.createElement("form",{className:"auth-form",onSubmit:function(e){return u.apply(this,arguments)}},r.a.createElement("h4",null,"Log In"),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{className:"start-input",type:"text",name:"email",value:a.email,onChange:s}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{className:"start-input",type:"password",name:"password",value:a.password,onChange:s}),r.a.createElement("button",{type:"submit",className:"btn-primary"}," ","Log in"," "))}var R=a(15),U=a.n(R),L=a(20),G=a.n(L);function M(){var e=G.a.get("csrftoken");return r.a.createElement("input",{type:"hidden",name:"csrfmiddlewaretoken",value:e})}var Q=a(19),Y=a.n(Q);a(22);function Z(){var e=Object(A.d)(),t=Object(n.useState)({phone:"",password:"",email:"",user_name:""}),a=Object(p.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({phoneErr:"",passwordErr:"",secondPasswordErr:"",userEmailErr:"",userNameErr:""}),s=Object(p.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)(""),d=Object(p.a)(m,2),b=d[0],g=d[1],v=RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),y=RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/),j=RegExp(/^\+?\(?([0-9]{2,4})?\)?([0-9]{9})$/),O=function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;switch(a){case"user_name":l((function(e){return Object(D.a)(Object(D.a)({},e),{},Object(F.a)({},a,n))})),u((function(e){return Object(D.a)(Object(D.a)({},e),{},Object(F.a)({},"userNameErr",n.length<3?"at least 3 character":""))}));break;case"password":l((function(e){return Object(D.a)(Object(D.a)({},e),{},Object(F.a)({},a,n))})),u((function(e){return Object(D.a)(Object(D.a)({},e),{},Object(F.a)({},"passwordErr",y.test(n)?"":"password is not valid"))}));break;case"secondPassword":g(n),u((function(e){return Object(D.a)(Object(D.a)({},e),{},Object(F.a)({},"secondPasswordErr",n!==c.password?"Password do not mach":""))}));break;case"email":l((function(e){return Object(D.a)(Object(D.a)({},e),{},Object(F.a)({},a,n))})),u((function(e){return Object(D.a)(Object(D.a)({},e),{},Object(F.a)({},"userEmailErr",v.test(n)?"":" Invalid Email"))}))}},N=function(e){return""!==e},x=function(e){return""===e},w=G.a.get("csrftoken");function k(){return(k=Object(h.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),Object.values(i).some(N)||Object.values(c).some(x)){t.next=16;break}return t.prev=2,t.next=5,E.a.post("auth/users/",JSON.stringify(c),{headers:{"Content-Type":"application/json",accept:"application/json","X-CSRFToken":w}});case 5:l({phone:"",password:"",email:"",user_name:""}),g(""),e.show("user created successfully",{timeout:0,type:"success"}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0.response),500===t.t0.response.status&&e.show("user with this email exist",{timeout:0,type:"error"});case 14:t.next=17;break;case 16:e.show("Invalid Register Form",{timeout:0,type:"error"});case 17:case"end":return t.stop()}}),t,null,[[2,10]])})))).apply(this,arguments)}return r.a.createElement("form",{className:"auth-form",onSubmit:function(e){return k.apply(this,arguments)}},r.a.createElement(M,null),r.a.createElement("h4",null,"Register"),r.a.createElement("label",{htmlFor:"user_name"},"Username"),r.a.createElement("input",{className:U()("start-input",{"is-invalid":i.userNameErr,"is-valid":!i.userNameErr&&c.user_name.length}),type:"text",name:"user_name",value:c.user_name,onChange:O}),r.a.createElement("small",{className:"invalid"},i.userNameErr),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{className:U()("start-input",{"is-invalid":i.passwordErr,"is-valid":!i.passwordErr&&c.password.length}),type:"password",name:"password",value:c.password,onChange:O}),r.a.createElement("small",{className:"invalid"},i.passwordErr),r.a.createElement("label",{htmlFor:"secondPassword"},"Repeat Password"),r.a.createElement("input",{className:U()("start-input",{"is-invalid":i.secondPasswordErr,"is-valid":!i.secondPasswordErr&&b.length}),type:"password",name:"secondPassword",value:b,onChange:O}),r.a.createElement("small",{className:"invalid"},i.secondPasswordErr),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{className:U()("start-input",{"is-invalid":i.userEmailErr,"is-valid":!i.userEmailErr&&c.email.length}),type:"email",name:"email",value:c.email,onChange:O}),r.a.createElement("small",{className:"invalid"},i.userEmailErr),r.a.createElement("label",{htmlFor:"phone"},"Phone"),r.a.createElement(Y.a,{containerClass:U()("phone-conteiner",{"phone-invalid":i.phoneErr,"phone-valid":!i.phoneErr&&c.phone.length}),inputClass:"phone-input",buttonClass:"phone-button",name:"phone",value:c.phone,onChange:function(e){l((function(t){return Object(D.a)(Object(D.a)({},t),{},Object(F.a)({},"phone",e))})),u((function(t){return Object(D.a)(Object(D.a)({},t),{},Object(F.a)({},"phoneErr",j.test(e)?"":" Invalid Phone number"))}))},placeholder:" "}),r.a.createElement("small",{className:"invalid"},i.phoneErr),r.a.createElement("button",{type:"submit",className:"btn-primary"}," ","Register"," "),r.a.createElement("small",null,r.a.createElement("h3",null,"Password must contain:"),r.a.createElement("p",null,"at least 8 character"),r.a.createElement("p",null,"one uppercase character"),r.a.createElement("p",null,"one lowercase character")))}function $(){return r.a.createElement(u,null,r.a.createElement("div",{className:"auth-conteiner"},r.a.createElement(B,null),r.a.createElement("div",{className:"auth-seperator"}),r.a.createElement(Z,null)))}var H=function(){return r.a.createElement(u,null,r.a.createElement("div",{className:"contentWrapper"},r.a.createElement(i,{title:"404",subtitle:"page not found"},r.a.createElement(o.b,{to:"/",className:"btn-primary"},"return"))))};function K(e){var t=e.title,a=e.content,n=e.isInline,c=void 0!==n&&n;return r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:U()("row",{"row-inline":c}),htmlFor:"row"},t),r.a.createElement("p",{className:U()("row",{"row-inline":c}),name:"row"},a))}function X(e){var t=e.title,a=Object(n.useContext)(J),c=a.addressId,l=a.setAddressId,s=Object(n.useState)({addresses:[],isFetching:!0}),i=Object(p.a)(s,2),u=i[0],m=i[1],d=function(e){e.preventDefault(),l(parseInt(e.target.value))},b=function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/address/",{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 3:t=e.sent,m({addresses:t.data,isFetching:!1}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();function g(e){return v.apply(this,arguments)}function v(){return(v=Object(h.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.value,e.prev=2,e.next=5,E.a.delete("api/address/".concat(a,"/"),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 5:return n=e.sent,b(),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}Object(n.useEffect)((function(){b()}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{title:t}),r.a.createElement("section",null,!0===u.isFetching||0===u.addresses.length?r.a.createElement("h3",null,"You do not have any address, add address to make a purchase "):r.a.createElement("div",{className:"address-center"},u.addresses.map((function(e){return r.a.createElement("article",{className:"address-box",key:e.address_id},r.a.createElement("h5",{className:c===e.address_id?"active-shipping":"diaactive-shipping"},"Shipping Address ",r.a.createElement("div",null)),r.a.createElement("h6",null,r.a.createElement(K,{isInline:!0,title:"Name:",content:e.name})),r.a.createElement(K,{isInline:!0,title:"Country:",content:e.country}),r.a.createElement(K,{isInline:!0,title:"Street:",content:e.street}),r.a.createElement(K,{isInline:!0,title:"City:",content:e.city}),r.a.createElement(K,{isInline:!0,title:"Post Code:",content:e.post_code}),r.a.createElement(K,{isInline:!0,title:"Phone:",content:e.phone}),c===e.address_id?null:r.a.createElement("button",{className:"btn-primary",value:e.address_id,onClick:d},"Order address"),r.a.createElement("button",{className:"btn-primary",value:e.address_id,onClick:g},"Delete"))})))),r.a.createElement("div",{className:"seperator"}),r.a.createElement("div",{className:"wrapper"},r.a.createElement(o.b,{className:"btn-primary btn-margin",to:"/adresses-form"},"Add new address")))}function ee(){var e=Object(n.useContext)(J).user,t=e.email,a=e.user_name,c=e.first_name,l=e.last_name,s=e.phone,i=e.date_of_birth;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{title:"My profile"}),r.a.createElement("div",{className:"profile-conteiner"},r.a.createElement("h6",null,r.a.createElement(K,{isInline:!0,title:"User:",content:a})),r.a.createElement(K,{isInline:!0,title:"email:",content:t}),r.a.createElement(K,{isInline:!0,title:"First name:",content:c}),r.a.createElement(K,{isInline:!0,title:"Last name:",content:l}),r.a.createElement(K,{isInline:!0,title:"Date of birth:",content:i}),r.a.createElement(K,{isInline:!0,title:"Phone:",content:s})),r.a.createElement("div",{className:"seperator"}),r.a.createElement(o.b,{className:"btn-primary btn-margin",to:"/profile-form"},"Upadate profile"))}function te(){var e=Object(n.useState)({orders:[],isFetching:!0}),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(1),s=Object(p.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)(0),d=Object(p.a)(m,2),b=d[0],g=d[1],v=function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/orders?page=".concat(i),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 3:t=e.sent,c({orders:t.data,isFetching:!1}),g(t.data.length),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),c({orders:a.orders,isFetching:!0});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){v()}),[i]);var y=function(e){return new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"numeric"}).format(new Date(e))};return 0===a.orders.length?r.a.createElement("div",{className:"wrapper"},r.a.createElement(N,{title:"My orders"}),r.a.createElement("h3",null," You do not had any orders")):r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{title:"My orders"}),r.a.createElement("div",{className:"list-conteiner"},r.a.createElement("ul",null,a.orders.map((function(e,t){return r.a.createElement("li",{key:e.order_id,className:"list-view"},r.a.createElement(K,{title:"Ordered:",content:y(e.crate_date)}),r.a.createElement(K,{title:"Modified:",content:y(e.modified_date)}),r.a.createElement(K,{title:"Status:",content:e.status}),r.a.createElement(o.b,{to:"/order-detail/".concat(e.order_id),className:"btn-primary"},"Details"))})))),r.a.createElement("div",{className:"seperator"}),r.a.createElement(j,{activePage:i,count:b,handlePageChange:function(e){u(e)}}))}function ae(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,null),r.a.createElement(X,{title:"Addresses"}),r.a.createElement(te,null))}function ne(e){var t=e.children,a=e.submitButton,n=e.handleSubmit;return r.a.createElement(u,null,r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"form-container",onSubmit:n},t,r.a.createElement("button",{type:"submit",className:"btn-primary"},a))))}function re(e){var t=e.pattern,a=e.name,n=e.labelName,c=e.inputValue,l=e.type,o=e.handleChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:a},n),r.a.createElement("input",{className:"start-input",pattern:t,type:l,name:a,value:c,onChange:o}))}function ce(){var e=Object(n.useState)({name:"",country:"",street:"",post_code:"",city:"",phone:""}),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(J).user,s=Object(z.g)(),i=Object(A.d)(),u=function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;c((function(e){return Object(D.a)(Object(D.a)({},e),{},Object(F.a)({},a,n))}))};function m(){return(m=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,E.a.post("/api/address/",JSON.stringify(Object(D.a)(Object(D.a)({},a),{},{users:[parseInt(l.id)]})),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 4:s.push("/profil"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.response),400===e.t0.response.status?i.show("Invalid information",{timeout:0,type:"error"}):401===e.t0.response.status&&i.show("you must be login",{timeout:0,type:"error"});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return r.a.createElement(ne,{submitButton:"Add new",name:"Category",handleSubmit:function(e){return m.apply(this,arguments)}},r.a.createElement("h4",null," Addresses"),r.a.createElement(re,{name:"name",type:"text",labelName:"Name",handleChange:u,value:a.name}),r.a.createElement(re,{name:"country",type:"text",labelName:"Country",handleChange:u,value:a.country}),r.a.createElement(re,{name:"street",type:"text",labelName:"Street",handleChange:u,value:a.street}),r.a.createElement(re,{name:"post_code",type:"text",labelName:"Post code",handleChange:u,value:a.post_code}),r.a.createElement(re,{name:"city",type:"text",labelName:"City",handleChange:u,value:a.city}),r.a.createElement("label",{htmlFor:"phone"},"Phone"),r.a.createElement(Y.a,{containerClass:"phone-conteiner",inputClass:"phone-input",buttonClass:"phone-button",name:"phone",value:a.phone,onChange:function(e){c((function(t){return Object(D.a)(Object(D.a)({},t),{},Object(F.a)({},"phone",e))}))},placeholder:" "}),r.a.createElement(o.b,{className:"btn-primary",to:"/profil"},"Go back"))}function le(){var e=Object(n.useContext)(J),t=e.user,a=e.fetchCurrentUser,c=Object(n.useState)(t),l=Object(p.a)(c,2),s=l[0],i=l[1],u=Object(z.g)(),m=function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;i((function(e){return Object(D.a)(Object(D.a)({},e),{},Object(F.a)({},a,n))}))};function d(){return(d=Object(h.a)(f.a.mark((function e(n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,E.a.put("auth/update/".concat(t.id,"/"),JSON.stringify(s),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 4:return r=e.sent,a(),u.push("/profil"),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return r.a.createElement(ne,{submitButton:"Update Profile",handleSubmit:function(e){return d.apply(this,arguments)}},r.a.createElement("h4",null," User Profile"),r.a.createElement(re,{name:"user_name",type:"text",labelName:"User Name",handleChange:m,inputValue:s.user_name}),r.a.createElement(re,{name:"first_name",type:"text",labelName:"First Name",handleChange:m,inputValue:s.first_name}),r.a.createElement(re,{name:"last_name",type:"text",labelName:"Last Name",handleChange:m,inputValue:s.last_name}),r.a.createElement(re,{name:"date_of_birth",type:"date",labelName:"Date of birth",handleChange:m,inputValue:s.date_of_birth}),r.a.createElement("label",{htmlFor:"phone"},"Phone"),r.a.createElement(Y.a,{containerClass:"phone-conteiner",inputClass:"phone-input",buttonClass:"phone-button",name:"phone",value:s.phone,onChange:function(e){i((function(t){return Object(D.a)(Object(D.a)({},t),{},Object(F.a)({},"phone",e))}))}}),r.a.createElement(o.b,{to:"/profil",className:"btn-primary"},"Go back"))}function oe(){var e=Object(z.g)(),t=Object(n.useState)({name:""}),a=Object(p.a)(t,2),c=a[0],l=a[1];function s(){return(s=Object(h.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,E.a.post("api/staff/categories/",JSON.stringify(c),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 4:e.push("/staff"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))).apply(this,arguments)}return r.a.createElement(ne,{submitButton:"Add",handleSubmit:function(e){return s.apply(this,arguments)}},r.a.createElement("h4",null,"Category"),r.a.createElement(re,{name:"category",type:"text",labelName:"Category",handleChange:function(e){e.preventDefault(),l({name:e.target.value})},inputValue:c.name}),r.a.createElement(o.b,{className:"btn-primary",to:"/staff"},"Go back"))}function se(e){var t=e.onChange,a=Object(n.useState)([]),c=Object(p.a)(a,2),l=c[0],o=c[1],s=function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/categories/");case 3:t=e.sent,o(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),0===l.length?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"category"},"Category"),r.a.createElement("select",{className:"select-category",name:"category",onChange:t},l.map((function(e){return r.a.createElement("option",{value:e.name,key:e.category_id},e.name)}))))}function ie(){var e=Object(z.g)(),t=Object(n.useState)({name:"",price:"",category:"",images:null}),a=Object(p.a)(t,2),c=a[0],l=a[1],s=function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;l((function(e){return Object(D.a)(Object(D.a)({},e),{},Object(F.a)({},a,n))}))};function i(){return(i=Object(h.a)(f.a.mark((function t(a){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=new FormData,c.images&&n.append("image",c.images,c.images.name),n.append("name",c.name),n.append("price",c.price),n.append("quantity",c.quantity),n.append("description",c.description),n.append("category",c.category),t.prev=8,t.next=11,E.a.post("/api/staff/products/",n,{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"multipart/form-data",accept:"application/json"}});case 11:return r=t.sent,e.push("/staff"),t.abrupt("return",r);case 16:t.prev=16,t.t0=t.catch(8),console.log(t.t0.response);case 19:case"end":return t.stop()}}),t,null,[[8,16]])})))).apply(this,arguments)}return console.log(c),r.a.createElement(ne,{submitButton:"Add",handleSubmit:function(e){return i.apply(this,arguments)}},r.a.createElement("h4",null,"Product"),r.a.createElement(re,{name:"name",type:"text",labelName:"Name",handleChange:s,inputValue:c.name}),r.a.createElement(re,{name:"price",type:"text",labelName:"Price",handleChange:s,inputValue:c.prce}),r.a.createElement(re,{name:"quantity",type:"number",labelName:"Quantity",handleChange:s,inputValue:c.quantity}),r.a.createElement(re,{accept:"image/png, image/jpeg",name:"image",type:"file",labelName:"Image",handleChange:function(e){console.log(e.target.files),l(Object(D.a)(Object(D.a)({},c),{},{images:e.target.files[0]}))},inputValue:c.image}),r.a.createElement(re,{name:"description",type:"text",labelName:"Description",handleChange:s,inputValue:c.description}),r.a.createElement(se,{onChange:function(e){e.preventDefault();var t=e.target.value;console.log(t),l((function(e){return Object(D.a)(Object(D.a)({},e),{},Object(F.a)({},"category",[t]))}))}}),r.a.createElement(o.b,{className:"btn-primary",to:"/staff"},"Go back"))}function ue(){var e=Object(n.useState)({cart:[0],isFetching:!0}),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(J),s=l.user,i=l.addressId,u=Object(z.g)(),m=Object(A.d)(),d=function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("api/orders/",JSON.stringify({users:parseInt(s.id),addresses:i}),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 3:return t=e.sent,console.log(JSON.stringify(a.cart.map((function(e){return{order:t.data.order_id,product:parseInt(e.product.product_id)}})))),e.next=7,E.a.post("api/order-items/",JSON.stringify(a.cart.map((function(e){return{order:t.data.order_id,product:parseInt(e.product.product_id),quantity:parseInt(e.quantity)}}))),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 7:return e.next=9,E.a.delete("api/cart-items/",{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 9:u.push("/profil"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.response),400===e.t0.response.status&&m.show("choose adresses to make order on your profile site",{timeout:0,type:"info"});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/cart-items",{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 3:t=e.sent,c({cart:t.data,isFetching:!1}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),c({cart:a.cart,isFetching:!0});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();function g(e){return v.apply(this,arguments)}function v(){return(v=Object(h.a)(f.a.mark((function e(t){var a,n,r,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.value.split(","),n=Object(p.a)(a,3),r=n[0],c=n[1],l=n[2],e.prev=2,e.next=5,E.a.delete("api/cart-items/".concat(r,"/"),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 5:e.sent,b(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:return e.prev=12,e.next=15,E.a.patch("api/products/".concat(c,"/"),{quantity:parseInt(l)},{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(12),console.log(e.t1);case 20:case"end":return e.stop()}}),e,null,[[2,9],[12,17]])})))).apply(this,arguments)}Object(n.useEffect)((function(){b()}),[]);var y=0;return r.a.createElement("div",{className:"wraper"},r.a.createElement(N,{title:"Cart"}),r.a.createElement("div",{className:"list-conteiner"},function(){return a.isFetching?r.a.createElement("h3",null," Cart is feaching..."):0===a.cart.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null," Your cart is empty"),r.a.createElement(o.b,{to:"/products",className:"btn-primary"}," ","Back to shoping"," ")):r.a.createElement("div",{className:"products-wraper"},r.a.createElement("ul",null,a.cart.map((function(e,t){return y+=e.quantity*e.product.price,r.a.createElement("li",{key:e.cart_item_id,className:"list-view"},r.a.createElement("img",{src:e.product.image,alt:e.product.name}),r.a.createElement(K,{title:"Name:",content:e.product.name}),r.a.createElement(K,{title:"Quantity:",content:e.quantity}),r.a.createElement(K,{title:"Price:",content:"".concat(e.product.price,"z\u0142")}),r.a.createElement("button",{onClick:g,value:[e.cart_item_id,e.product.product_id,e.quantity],className:"btn-primary"},"remove"))}))),r.a.createElement("h3",null,"summary"),r.a.createElement(K,{title:"Total price:",content:(e=y,new Intl.NumberFormat("pl",{style:"currency",minimumIntegerDigits:1,currency:"PLN",currencyDisplay:"symbol"}).format(e))}),r.a.createElement("button",{onClick:d,className:"btn-primary"},"Buy"));var e}()),r.a.createElement(X,{title:"choose address to send"}))}function me(e){var t=Object(n.useState)({orderInfo:[],oderItems:[]}),a=Object(p.a)(t,2),c=a[0],l=a[1],s=function(){var t=Object(h.a)(f.a.mark((function t(){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.get("/api/orders/".concat(e.match.params.id));case 3:return a=t.sent,l((function(e){return Object(D.a)(Object(D.a)({},e),{},{orderInfo:a.data})})),t.next=7,E.a.get("/api/order-items/".concat(e.match.params.id));case 7:n=t.sent,l((function(e){return Object(D.a)(Object(D.a)({},e),{},{oderItems:n.data})})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();console.log(c),Object(n.useEffect)((function(){s()}),[]);var i,u=function(e){return new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"numeric"}).format(new Date(e))},m=0;return 0===c.oderItems.length?r.a.createElement("h3",null,"There is no Order."):r.a.createElement("div",{className:"wrapper"},r.a.createElement(N,{title:"Order"}),r.a.createElement("div",{className:"list-conteiner"},r.a.createElement("div",{className:"list-view"},r.a.createElement(K,{title:"Status:",content:c.orderInfo.status}),r.a.createElement(K,{title:"Order date:",content:u(c.orderInfo.crate_date)}),r.a.createElement(K,{title:"Modified date:",content:u(c.orderInfo.modified_date)})),r.a.createElement(N,{title:"Ordered products"}),r.a.createElement("ul",null,c.oderItems.map((function(e,t){return m=+e.quantity*e.product.price,r.a.createElement("li",{key:e.order_item_id,className:"list-view"},r.a.createElement("img",{src:e.product.image,alt:e.product.name}),r.a.createElement(K,{title:"Name:",content:e.product.name}),r.a.createElement(K,{title:"Quantity:",content:e.quantity}),r.a.createElement(K,{title:"price:",content:"".concat(e.product.price," z\u0142")}),r.a.createElement(o.b,{to:"/products/".concat(e.product.product_id),className:"btn-primary"},"See product"))}))),r.a.createElement("h3",null,"summary"),r.a.createElement(K,{title:"Total price:",content:(i=m,new Intl.NumberFormat("pl",{style:"currency",minimumIntegerDigits:1,currency:"PLN",currencyDisplay:"symbol"}).format(i))}),r.a.createElement(N,{title:"Shipping address"}),r.a.createElement("div",{className:"list-view"},r.a.createElement(K,{title:"Name:",content:c.orderInfo.addresses.name}),r.a.createElement(K,{title:"Country:",content:c.orderInfo.addresses.country}),r.a.createElement(K,{title:"City:",content:c.orderInfo.addresses.city}),r.a.createElement(K,{title:"Post Code:",content:c.orderInfo.addresses.post_code}),r.a.createElement(K,{title:"Street:",content:c.orderInfo.addresses.street}))))}function pe(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(1),s=Object(p.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)(0),d=Object(p.a)(m,2),b=d[0],g=d[1],v=function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/products/?page=".concat(i));case 3:t=e.sent,c(t.data.results),g(t.data.count),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){v()}),[i]);function y(e){return O.apply(this,arguments)}function O(){return(O=Object(h.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.value,e.prev=2,e.next=5,E.a.delete("api/staff/products/".concat(a,"/"),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 5:return n=e.sent,v(),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return 0===a.length?r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"No matches to given parameters")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"list-conteiner"},r.a.createElement("ul",null,a.map((function(e,t){return r.a.createElement("li",{key:e.product_id,className:"list-view"},r.a.createElement("img",{src:e.image,alt:e.name}),r.a.createElement(K,{title:"Name:",content:e.name}),r.a.createElement(K,{title:"Price:",content:e.price}),r.a.createElement(K,{title:"Category:",content:e.category}),r.a.createElement(o.b,{to:"/products/".concat(e.product_id),className:"btn-primary"},"Details"),r.a.createElement(o.b,{to:"/product-form-update/".concat(e.product_id),className:"btn-primary"},"Update"),r.a.createElement("button",{value:e.product_id,className:"btn-primary",onClick:y},"Delete"))})))),r.a.createElement("div",{className:"seperator"}),r.a.createElement(j,{activePage:i,count:b,handlePageChange:function(e){u(e)}}))}function de(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(1),o=Object(p.a)(l,2),s=o[0],i=o[1],u=Object(n.useState)(0),m=Object(p.a)(u,2),d=m[0],b=m[1],g=function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/categories?page=".concat(s));case 3:t=e.sent,c(t.data),b(t.data.length),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();function v(e){return y.apply(this,arguments)}function y(){return(y=Object(h.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.value,e.prev=2,e.next=5,E.a.delete("api/staff/categories/".concat(a,"/"),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 5:return n=e.sent,g(),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){g()}),[s]),0===a.length?r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"There is no Category added")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"list-conteiner"},r.a.createElement("ul",null,a.map((function(e,t){return r.a.createElement("li",{key:e.category_id,className:"list-view"},r.a.createElement(K,{title:"Name",content:e.name}),r.a.createElement("button",{value:e.category_id,onClick:v,className:"btn-primary"},"Delete"))})))),r.a.createElement("div",{className:"seperator"}),r.a.createElement(j,{activePage:s,count:d,handlePageChange:function(e){i(e)}}))}function fe(e){var t=e.orderId,a=e.currentValue,n=e.fetchOrders,c=Object(A.d)(),l=function(){var e=Object(h.a)(f.a.mark((function e(a){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r=a.target.value,e.prev=2,e.next=5,E.a.patch("/api/staff/orders/".concat(t,"/"),JSON.stringify({status:r}),{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 5:n(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0.response),c.show("You did not chance statu",{timeout:0,type:"error"});case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"select-status"},r.a.createElement("label",{htmlFor:"status"},"Change Status"),r.a.createElement("select",{name:"status",onChange:l,value:a},["pending","sent","delivered"].map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)}))))}function he(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(1),s=Object(p.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)(0),d=Object(p.a)(m,2),b=d[0],g=d[1],v=function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/staff/orders?page=".concat(i));case 3:t=e.sent,c(t.data),g(t.data.length),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();if(Object(n.useEffect)((function(){v()}),[i]),0===a.length)return r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"No matches to given parameters"));var y=function(e){return new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"numeric"}).format(new Date(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"list-conteiner"},r.a.createElement("ul",null,a.map((function(e,t){return r.a.createElement("li",{key:e.order_id,className:"list-view"},r.a.createElement(K,{title:"Ordered:",content:y(e.crate_date)}),r.a.createElement(K,{title:"Modified:",content:y(e.modified_date)}),r.a.createElement(fe,{orderId:e.order_id,fetchOrders:v,currentValue:e.status}),r.a.createElement(o.b,{to:"/order-detail/".concat(e.order_id),className:"btn-primary"},"Details"))})))),r.a.createElement("div",{className:"seperator"}),r.a.createElement(j,{activePage:i,count:b,handlePageChange:function(e){u(e)}}))}function be(){return r.a.createElement("div",{className:"list-wraper"},r.a.createElement(N,{title:"Category"}),r.a.createElement(de,null),r.a.createElement(o.b,{to:"/category-form",className:"btn-primary "},"Add"),r.a.createElement(N,{title:"product"}),r.a.createElement(pe,null),r.a.createElement(o.b,{to:"/product-form",className:"btn-primary "},"Add"),r.a.createElement(N,{title:"Orders"}),r.a.createElement(he,null))}function ge(e){var t=Object(z.g)(),a=Object(n.useState)({name:"",price:"",category:"",quantity:"",images:"",description:""}),c=Object(p.a)(a,2),l=c[0],s=c[1],i=function(){var t=Object(h.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.get("/api/products/".concat(e.match.params.id,"/"));case 3:a=t.sent,s({name:a.data.name,price:a.data.price,category:a.data.category,quantity:a.data.quantity,description:a.data.description}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){i()}),[]);var u=function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;s((function(e){return Object(D.a)(Object(D.a)({},e),{},Object(F.a)({},a,n))}))};function m(){return(m=Object(h.a)(f.a.mark((function a(n){var r,c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),r=new FormData,l.images&&r.append("image",l.images,l.images.name),r.append("name",l.name),r.append("price",l.price),r.append("quantity",l.quantity),r.append("description",l.description),r.append("category",l.category),console.log(r),a.prev=9,a.next=12,E.a.put("/api/staff/products/".concat(e.match.params.id,"/"),r,{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"multipart/form-data",accept:"application/json"}});case 12:return c=a.sent,t.push("/staff"),a.abrupt("return",c);case 17:a.prev=17,a.t0=a.catch(9),console.log(a.t0);case 20:case"end":return a.stop()}}),a,null,[[9,17]])})))).apply(this,arguments)}return r.a.createElement(ne,{submitButton:"Update",handleSubmit:function(e){return m.apply(this,arguments)}},r.a.createElement("h4",null,"Product"),r.a.createElement(re,{name:"name",type:"text",labelName:"Name",handleChange:u,inputValue:l.name}),r.a.createElement(re,{name:"price",type:"text",labelName:"Price",handleChange:u,inputValue:l.price}),r.a.createElement(re,{name:"quantity",type:"text",labelName:"Quantity",handleChange:u,inputValue:l.quantity}),r.a.createElement(re,{accept:"image/png, image/jpeg",name:"image",type:"file",labelName:"Image",handleChange:function(e){console.log(e.target.files),s(Object(D.a)(Object(D.a)({},l),{},{images:e.target.files[0]}))},inputValue:l.image}),r.a.createElement(re,{name:"description",type:"text",labelName:"Description",handleChange:u,inputValue:l.description}),r.a.createElement(se,{onChange:function(e){e.preventDefault();var t=e.target.value;s((function(e){return Object(D.a)(Object(D.a)({},e),{},Object(F.a)({},"category",[t]))}))}}),r.a.createElement(o.b,{className:"btn-primary",to:"/staff"},"Go back"))}var Ee=a(41);function ve(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(J),s=l.user,i=l.logout;return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"nav-center"},r.a.createElement("div",{className:"nav-header "},r.a.createElement("button",{type:"button",className:"nav-btn",onClick:function(){c(!a)}},r.a.createElement(Ee.a,null)),r.a.createElement(o.b,{to:"/"},r.a.createElement("h3",null,"Berry Shop")),s.loggedIn?r.a.createElement("div",{className:"welcome-nav"},r.a.createElement("h6",null,"Welcome, "),r.a.createElement("p",null,s.user_name)):null),r.a.createElement("ul",{className:a?"nav-links show-nav":"nav-links"},r.a.createElement("li",null,r.a.createElement(o.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/products"},"Products")),s.loggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"/cart"},"Cart")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/profil"},"Profile"))):null,s.is_staff?r.a.createElement("li",null,r.a.createElement(o.b,{to:"/staff"},"Staff panel")):null,r.a.createElement("li",null,s.loggedIn?r.a.createElement(o.b,{to:"/"},r.a.createElement("button",{className:"btn-primary",onClick:i},"Logout")):r.a.createElement(o.b,{to:"/auth"},r.a.createElement("button",{className:"btn-primary"},"Login/Register"))))))}var ye=function(){var e=Object(n.useContext)(J).user;function t(t){var a=t.component,n=Object(s.a)(t,["component"]);return r.a.createElement(z.b,Object.assign({},n,{render:function(t){return e.loggedIn?r.a.createElement(a,t):r.a.createElement(z.a,{to:"/auth"})}}))}function a(t){var a=t.component,n=Object(s.a)(t,["component"]);return r.a.createElement(z.b,Object.assign({},n,{render:function(t){return e.loggedIn&&e.is_staff?r.a.createElement(a,t):r.a.createElement(z.a,{to:"/not-found"})}}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,null),r.a.createElement(z.d,null,r.a.createElement(z.b,{exact:!0,path:"/",component:m}),r.a.createElement(z.b,{exact:!0,path:"/products",component:T}),r.a.createElement(z.b,{exact:!0,path:"/products/:id",component:V}),r.a.createElement(z.b,{exact:!0,path:"/auth",component:$}),r.a.createElement(t,{exact:!0,path:"/profil",component:ae}),r.a.createElement(t,{exact:!0,path:"/order-detail/:id",component:me}),r.a.createElement(t,{exact:!0,path:"/cart",component:ue}),r.a.createElement(t,{exact:!0,path:"/adresses-form",component:ce}),r.a.createElement(t,{exact:!0,path:"/profile-form",component:le}),r.a.createElement(a,{exact:!0,path:"/staff",component:be}),r.a.createElement(a,{exact:!0,path:"/category-form",component:oe}),r.a.createElement(a,{exact:!0,path:"/product-form",component:ie}),r.a.createElement(a,{exact:!0,path:"/product-form-update/:id",component:ge}),r.a.createElement(z.b,{component:H})))},je=a(40),Oe={position:A.b.BOTTOM_CENTER,timeout:5e3,offset:"30px",transition:A.c.SCALE};l.a.render(r.a.createElement(A.a,Object.assign({template:je.a},Oe),r.a.createElement(q,null,r.a.createElement(o.a,null,r.a.createElement(ye,null)))),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.24ad3ea9.chunk.js.map